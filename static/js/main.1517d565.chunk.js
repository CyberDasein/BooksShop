(this["webpackJsonpreact-shop"]=this["webpackJsonpreact-shop"]||[]).push([[0],{130:function(e,t,a){e.exports=a(252)},252:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),c=a.n(o),i=a(15),l=a(30),s=a(31),u=a(34),m=a(35),p=a(306),d=a(290),h=a(291),b=a(293),f=a(296),E=a(295),g=a(294),O=a(297),y=a(63),v=function(e){return{type:"ADD_TO_CART",payload:e}},j=function(e){return{type:"REMOVE_FROM_CART",payload:e}},C=Object(d.a)({root:{maxWidth:345},media:{minHeight:320},author:{marginTop:10,marginBottom:21},addBtn:{width:"100%"}}),w={addToCart:v,removeFromCart:j},k=Object(i.b)((function(e,t){var a=e.cart,n=t.id;return{addedCount:a.items.reduce((function(e,t){return e+(t.id===n?1:0)}),0)}}),w)((function(e){var t=e.title,a=e.author,n=e.price,o=e.image,c=e.addToCart,i=e.addedCount,l=C();return r.a.createElement(h.a,{className:l.root},r.a.createElement(b.a,null,r.a.createElement(g.a,{className:l.media,image:o,title:"Contemplative Reptile"}),r.a.createElement(E.a,null,r.a.createElement(y.a,{component:"h6"},t),r.a.createElement(y.a,{className:l.author,variant:"body2",color:"textSecondary",component:"p"},a),r.a.createElement(y.a,{variant:"body3",color:"textSecondary",component:"p"},"\u0426\u0435\u043d\u0430: ",r.a.createElement("strong",null,n,"\u0440")))),r.a.createElement(f.a,null,r.a.createElement(O.a,{onClick:function(){return c(e)},className:l.addBtn,size:"small",color:"primary"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443 ",i>0&&"(".concat(i,")"))))})),R=a(307),_=a(116),T=a.n(_),N=a(61),S=a(24),x=(a(121),a(298)),B=a(310),F=a(299),L=(a(308),a(117)),I=a.n(L),D=a(312),A=a(11);function Q(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var M=Object(d.a)((function(e){return{root:{marginBottom:"21px",flexGrow:1},tabs:{backgroundColor:e.palette.info.main},tab:Object(S.a)({},e.breakpoints.down("xs"),{marginLeft:e.spacing(1),width:"100%",display:"none"}),search:Object(S.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(A.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(A.b)(e.palette.common.white,.25)},marginLeft:0,width:"auto"},e.breakpoints.down("sm"),{width:"100%"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(S.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%",minHeight:"30px"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}})),z=function(e){var t=e.setFilter,a=e.setSearchQuery,n=M(),o=r.a.useState(0),c=Object(N.a)(o,2),i=c[0],l=c[1];return r.a.createElement("div",{className:n.root},r.a.createElement(x.a,{position:"static"},r.a.createElement(B.a,{className:n.tabs,value:i,onChange:function(e,t){l(t)},"aria-label":"simple tabs example"},r.a.createElement(F.a,Object.assign({className:n.tab,onClick:function(){return t("all")},label:"\u0412\u0441\u0435"},Q(0))),r.a.createElement(F.a,Object.assign({className:n.tab,onClick:function(){return t("low")},label:"\u0414\u0435\u0448\u0435\u0432\u043b\u0435"},Q(1))),r.a.createElement(F.a,Object.assign({className:n.tab,onClick:function(){return t("high")},label:"\u0414\u043e\u0440\u043e\u0436\u0435"},Q(2))),r.a.createElement("div",{className:n.search},r.a.createElement("div",{className:n.searchIcon},r.a.createElement(I.a,null)),r.a.createElement(D.a,{onChange:function(e){return a(e.target.value)},placeholder:"Search\u2026",classes:{root:n.inputRoot,input:n.inputInput},inputProps:{"aria-label":"search"}})))))},U=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(z,this.props)}}]),a}(r.a.Component),V=Object(i.b)((function(e){return{filterBy:e.filter.filterBy}}),{setFilter:function(e){return{type:"SET_FILTER",payload:e}},setSearchQuery:function(e){return{type:"SET_QUERY",payload:e}}})(U),X=a(118),G=a.n(X),P=a(305),W=a(309),H=a(300),J=a(314),K=a(302),Y=a(301),q=a(313),Z=a(303),$=a(119),ee=a.n($),te=a(304),ae=Object(d.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},large:{width:e.spacing(7),height:e.spacing(7),marginRight:e.spacing(3)}}})),ne=function(e){var t=e.items,a=e.removeFromCart,n=t.title,o=t.id,c=t.author,i=t.image,l=ae();return r.a.createElement(H.a,{className:l.root},r.a.createElement(J.a,null,r.a.createElement(Y.a,null,r.a.createElement(q.a,{className:l.large,variant:"square",src:i})),r.a.createElement(K.a,{primary:n,secondary:c}),r.a.createElement(Z.a,null,r.a.createElement(te.a,{edge:"end",onClick:function(){return a(o)},"aria-label":"delete"},r.a.createElement(ee.a,null)))))},re=Object(d.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(S.a)({flexGrow:1},e.breakpoints.down("sm"),{marginRight:20,fontSize:"1rem"}),typography:{padding:e.spacing(2)},price:{marginRight:"20px"}}})),oe=function(e){var t=e.totalPrice,a=(e.count,e.items),n=e.removeFromCart,o=re(),c=r.a.useState(null),i=Object(N.a)(c,2),l=i[0],s=i[1],u=Boolean(l),m=u?"simple-popover":void 0;return r.a.createElement("div",{className:o.root},r.a.createElement(x.a,{position:"static"},r.a.createElement(P.a,null,r.a.createElement(y.a,{variant:"h6",className:o.title},"\u041c\u0430\u0433\u0430\u0437\u0438\u043d \u043a\u043d\u0438\u0433"),r.a.createElement(y.a,{className:o.price}," ","\u0418\u0442\u043e\u0433\u043e: \xa0 ",r.a.createElement("strong",null,t),"\xa0rub"," "),r.a.createElement(O.a,{"aria-describedby":m,variant:"contained",color:"secondary",onClick:function(e){s(e.currentTarget)}},"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"),r.a.createElement(W.a,{id:m,open:u,anchorEl:l,onClose:function(){s(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(y.a,{className:o.typography},a.map((function(e){return r.a.createElement(ne,{key:e.id,removeFromCart:n,items:e})})))))))},ce=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(oe,this.props)}}]),a}(r.a.Component),ie={removeFromCart:j,addToCart:v},le=Object(i.b)((function(e){var t=e.cart;return{totalPrice:t.items.reduce((function(e,t){return e+t.price}),0),count:t.items.length,items:G()(t.items,(function(e){return e.id}))}}),ie)(ce),se=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).componentDidMount=function(){T.a.get("books.json").then((function(t){var a=t.data;e.props.setBooks(a)}))},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.books,a=e.isReady;return r.a.createElement("div",{className:"App"},r.a.createElement(p.a,{maxWidth:"lg"},r.a.createElement(le,null),r.a.createElement(V,null),r.a.createElement(R.a,{container:!0,spacing:3},a?t.map((function(e,t){return r.a.createElement(R.a,{item:!0,xs:12,md:3,sm:6}," ",r.a.createElement(k,Object.assign({key:t},e))," ")})):"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...")))}}]),a}(r.a.Component),ue=a(25),me={isReady:!1,items:null},pe=a(62),de=a.n(pe),he=function(e,t,a){return function(e,t){switch(t){case"high":return de()(e,"price","desc");case"low":return de()(e,"price","asc");case"author":return de()(e,"author","asc");default:return e}}(function(e,t){return e.filter((function(e){return e.title.toLowerCase().indexOf(t.toLowerCase())>=0||e.author.toLowerCase().indexOf(t.toLowerCase())>=0}))}(e,a),t)},be={setBooks:function(e){return{type:"SET_BOOKS",payload:e}}},fe=Object(i.b)((function(e){var t=e.books,a=e.filter;return{books:t.items&&he(t.items,a.filterBy,a.searchQuery),isReady:t.isReady}}),be)(se),Ee=a(29),ge={searchQuery:"",filterBy:"all"},Oe=a(120),ye={items:[]},ve=Object(Ee.b)({books:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BOOKS":return Object(ue.a)({},e,{items:t.payload,isReady:!0});default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_QUERY":return Object(ue.a)({},e,{searchQuery:t.payload});case"SET_FILTER":return Object(ue.a)({},e,{filterBy:t.payload});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":return Object(ue.a)({},e,{items:[].concat(Object(Oe.a)(e.items),[t.payload])});case"REMOVE_FROM_CART":return Object(ue.a)({},e,{items:e.items.filter((function(e){return e.id!==t.payload}))});default:return e}}}),je=Object(Ee.c)(ve,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());c.a.render(r.a.createElement(i.a,{store:je},r.a.createElement(fe,null)),document.getElementById("root"))}},[[130,1,2]]]);
//# sourceMappingURL=main.1517d565.chunk.js.map